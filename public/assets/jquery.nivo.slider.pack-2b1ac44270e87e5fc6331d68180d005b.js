/*
 * jQuery Nivo Slider v3.0.1
 * http://nivo.dev7studios.com
 *
 * Copyright 2012, Dev7studios
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(e){var t=function(t,n){var r=e.extend({},e.fn.nivoSlider.defaults,n),i={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},s=e(t);s.data("nivo:vars",i).addClass("nivoSlider");var o=s.children();o.each(function(){var t=e(this),n="";t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),n=t),t=t.find("img:first"));var r=r===0?t.attr("width"):t.width(),s=s===0?t.attr("height"):t.height();n!==""&&n.css("display","none"),t.css("display","none"),i.totalSlides++}),r.randomStart&&(r.startSlide=Math.floor(Math.random()*i.totalSlides)),r.startSlide>0&&(r.startSlide>=i.totalSlides&&(r.startSlide=i.totalSlides-1),i.currentSlide=r.startSlide),e(o[i.currentSlide]).is("img")?i.currentImage=e(o[i.currentSlide]):i.currentImage=e(o[i.currentSlide]).find("img:first"),e(o[i.currentSlide]).is("a")&&e(o[i.currentSlide]).css("display","block");var u=e('<img class="nivo-main-image" src="#" />');u.attr("src",i.currentImage.attr("src")).show(),s.append(u),e(window).resize(function(){s.children("img").width(s.width()),u.attr("src",i.currentImage.attr("src")),u.stop().height("auto"),e(".nivo-slice").remove(),e(".nivo-box").remove()}),s.append(e('<div class="nivo-caption"></div>'));var f=function(t){var n=e(".nivo-caption",s);if(i.currentImage.attr("title")!=""&&i.currentImage.attr("title")!=undefined){var r=i.currentImage.attr("title");r.substr(0,1)=="#"&&(r=e(r).html()),n.css("display")=="block"?setTimeout(function(){n.html(r)},t.animSpeed):(n.html(r),n.stop().fadeIn(t.animSpeed))}else n.stop().fadeOut(t.animSpeed)};f(r);var l=0;!r.manualAdvance&&o.length>1&&(l=setInterval(function(){v(s,o,r,!1)},r.pauseTime)),r.directionNav&&(s.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+r.prevText+'</a><a class="nivo-nextNav">'+r.nextText+"</a></div>"),r.directionNavHide&&(e(".nivo-directionNav",s).hide(),s.hover(function(){e(".nivo-directionNav",s).show()},function(){e(".nivo-directionNav",s).hide()})),e("a.nivo-prevNav",s).live("click",function(){if(i.running)return!1;clearInterval(l),l="",i.currentSlide-=2,v(s,o,r,"prev")}),e("a.nivo-nextNav",s).live("click",function(){if(i.running)return!1;clearInterval(l),l="",v(s,o,r,"next")}));if(r.controlNav){i.controlNavEl=e('<div class="nivo-controlNav"></div>'),s.after(i.controlNavEl);for(var c=0;c<o.length;c++)if(r.controlNavThumbs){i.controlNavEl.addClass("nivo-thumbs-enabled");var h=o.eq(c);h.is("img")||(h=h.find("img:first")),h.attr("data-thumb")&&i.controlNavEl.append('<a class="nivo-control" rel="'+c+'"><img src="'+h.attr("data-thumb")+'" alt="" /></a>')}else i.controlNavEl.append('<a class="nivo-control" rel="'+c+'">'+(c+1)+"</a>");e("a:eq("+i.currentSlide+")",i.controlNavEl).addClass("active"),e("a",i.controlNavEl).bind("click",function(){if(i.running)return!1;if(e(this).hasClass("active"))return!1;clearInterval(l),l="",u.attr("src",i.currentImage.attr("src")),i.currentSlide=e(this).attr("rel")-1,v(s,o,r,"control")})}r.pauseOnHover&&s.hover(function(){i.paused=!0,clearInterval(l),l=""},function(){i.paused=!1,l===""&&!r.manualAdvance&&(l=setInterval(function(){v(s,o,r,!1)},r.pauseTime))}),s.bind("nivo:animFinished",function(){u.attr("src",i.currentImage.attr("src")),i.running=!1,e(o).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(o[i.currentSlide]).is("a")&&e(o[i.currentSlide]).css("display","block"),l===""&&!i.paused&&!r.manualAdvance&&(l=setInterval(function(){v(s,o,r,!1)},r.pauseTime)),r.afterChange.call(this)});var p=function(t,n,r){e(r.currentImage).parent().is("a")&&e(r.currentImage).parent().css("display","block"),e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();var i=e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height();for(var s=0;s<n.slices;s++){var o=Math.round(t.width()/n.slices);s===n.slices-1?t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+s*o-o)+'px;" /></div>').css({left:o*s+"px",width:t.width()-o*s+"px",height:i+"px",opacity:"0",overflow:"hidden"})):t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+s*o-o)+'px;" /></div>').css({left:o*s+"px",width:o+"px",height:i+"px",opacity:"0",overflow:"hidden"}))}e(".nivo-slice",t).height(i),u.stop().animate({height:e(r.currentImage).height()},n.animSpeed)},d=function(t,n,r){e(r.currentImage).parent().is("a")&&e(r.currentImage).parent().css("display","block"),e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();var i=Math.round(t.width()/n.boxCols),s=Math.round(e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/n.boxRows);for(var o=0;o<n.boxRows;o++)for(var f=0;f<n.boxCols;f++)f===n.boxCols-1?(t.append(e('<div class="nivo-box" name="'+f+'" rel="'+o+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*o+"px; left:-"+i*f+'px;" /></div>').css({opacity:0,left:i*f+"px",top:s*o+"px",width:t.width()-i*f+"px"})),e('.nivo-box[name="'+f+'"]',t).height(e('.nivo-box[name="'+f+'"] img',t).height()+"px")):(t.append(e('<div class="nivo-box" name="'+f+'" rel="'+o+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*o+"px; left:-"+i*f+'px;" /></div>').css({opacity:0,left:i*f+"px",top:s*o+"px",width:i+"px"})),e('.nivo-box[name="'+f+'"]',t).height(e('.nivo-box[name="'+f+'"] img',t).height()+"px"));u.stop().animate({height:e(r.currentImage).height()},n.animSpeed)},v=function(t,n,r,i){var s=t.data("nivo:vars");s&&s.currentSlide===s.totalSlides-1&&r.lastSlide.call(this);if((!s||s.stop)&&!i)return!1;r.beforeChange.call(this),i?(i==="prev"&&u.attr("src",s.currentImage.attr("src")),i==="next"&&u.attr("src",s.currentImage.attr("src"))):u.attr("src",s.currentImage.attr("src")),s.currentSlide++,s.currentSlide===s.totalSlides&&(s.currentSlide=0,r.slideshowEnd.call(this)),s.currentSlide<0&&(s.currentSlide=s.totalSlides-1),e(n[s.currentSlide]).is("img")?s.currentImage=e(n[s.currentSlide]):s.currentImage=e(n[s.currentSlide]).find("img:first"),r.controlNav&&(e("a",s.controlNavEl).removeClass("active"),e("a:eq("+s.currentSlide+")",s.controlNavEl).addClass("active")),f(r),e(".nivo-slice",t).remove(),e(".nivo-box",t).remove();var o=r.effect,l="";r.effect==="random"&&(l=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),o=l[Math.floor(Math.random()*(l.length+1))],o===undefined&&(o="fade")),r.effect.indexOf(",")!==-1&&(l=r.effect.split(","),o=l[Math.floor(Math.random()*l.length)],o===undefined&&(o="fade")),s.currentImage.attr("data-transition")&&(o=s.currentImage.attr("data-transition")),s.running=!0;var c=0,h=0,v="",g="",y="",b="";if(o==="sliceDown"||o==="sliceDownRight"||o==="sliceDownLeft")p(t,r,s),c=0,h=0,v=e(".nivo-slice",t),o==="sliceDownLeft"&&(v=e(".nivo-slice",t)._reverse()),v.each(function(){var n=e(this);n.css({top:"0px"}),h===r.slices-1?setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+c),c+=50,h++});else if(o==="sliceUp"||o==="sliceUpRight"||o==="sliceUpLeft")p(t,r,s),c=0,h=0,v=e(".nivo-slice",t),o==="sliceUpLeft"&&(v=e(".nivo-slice",t)._reverse()),v.each(function(){var n=e(this);n.css({bottom:"0px"}),h===r.slices-1?setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+c),c+=50,h++});else if(o==="sliceUpDown"||o==="sliceUpDownRight"||o==="sliceUpDownLeft"){p(t,r,s),c=0,h=0;var w=0;v=e(".nivo-slice",t),o==="sliceUpDownLeft"&&(v=e(".nivo-slice",t)._reverse()),v.each(function(){var n=e(this);h===0?(n.css("top","0px"),h++):(n.css("bottom","0px"),h=0),w===r.slices-1?setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+c),c+=50,w++})}else if(o==="fold")p(t,r,s),c=0,h=0,e(".nivo-slice",t).each(function(){var n=e(this),i=n.width();n.css({top:"0px",width:"0px"}),h===r.slices-1?setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed)},100+c),c+=50,h++});else if(o==="fade")p(t,r,s),g=e(".nivo-slice:first",t),g.css({width:t.width()+"px"}),g.animate({opacity:"1.0"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")});else if(o==="slideInRight")p(t,r,s),g=e(".nivo-slice:first",t),g.css({width:"0px",opacity:"1"}),g.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")});else if(o==="slideInLeft")p(t,r,s),g=e(".nivo-slice:first",t),g.css({width:"0px",opacity:"1",left:"",right:"0px"}),g.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){g.css({left:"0px",right:""}),t.trigger("nivo:animFinished")});else if(o==="boxRandom")d(t,r,s),y=r.boxCols*r.boxRows,h=0,c=0,b=m(e(".nivo-box",t)),b.each(function(){var n=e(this);h===y-1?setTimeout(function(){n.animate({opacity:"1"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){n.animate({opacity:"1"},r.animSpeed)},100+c),c+=20,h++});else if(o==="boxRain"||o==="boxRainReverse"||o==="boxRainGrow"||o==="boxRainGrowReverse"){d(t,r,s),y=r.boxCols*r.boxRows,h=0,c=0;var E=0,S=0,x=[];x[E]=[],b=e(".nivo-box",t);if(o==="boxRainReverse"||o==="boxRainGrowReverse")b=e(".nivo-box",t)._reverse();b.each(function(){x[E][S]=e(this),S++,S===r.boxCols&&(E++,S=0,x[E]=[])});for(var T=0;T<r.boxCols*2;T++){var N=T;for(var C=0;C<r.boxRows;C++)N>=0&&N<r.boxCols&&(function(n,i,s,u,f){var l=e(x[n][i]),c=l.width(),h=l.height();(o==="boxRainGrow"||o==="boxRainGrowReverse")&&l.width(0).height(0),u===f-1?setTimeout(function(){l.animate({opacity:"1",width:c,height:h},r.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+s):setTimeout(function(){l.animate({opacity:"1",width:c,height:h},r.animSpeed/1.3)},100+s)}(C,N,c,h,y),h++),N--;c+=100}}},m=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r,10),n=e[--r],e[r]=e[t],e[t]=n);return e},g=function(e){this.console&&typeof console.log!="undefined"&&console.log(e)};return this.stop=function(){e(t).data("nivo:vars").stop||(e(t).data("nivo:vars").stop=!0,g("Stop Slider"))},this.start=function(){e(t).data("nivo:vars").stop&&(e(t).data("nivo:vars").stop=!1,g("Start Slider"))},r.afterLoad.call(this),this};e.fn.nivoSlider=function(n){return this.each(function(r,i){var s=e(this);if(s.data("nivoslider"))return s.data("nivoslider");var o=new t(this,n);s.data("nivoslider",o)})},e.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},e.fn._reverse=[].reverse})(jQuery);